# Swiss Ephemeris GPL 授權分析與決策指南

**分析日期**：2026年1月24日  
**適用專案**：Aetheria Core v1.3.0+（西洋占星術模組）  
**授權對象**：Swiss Ephemeris / PySwisseph / Kerykeion

---

## 📋 執行摘要

### 核心問題
**Aetheria Core 開發西洋占星術功能時，是否必須購買 Swiss Ephemeris 商業授權($250)？**

### 結論
**✅ 推薦購買商業授權**（但非強制）

**理由**：
1. ✅ **法律安全**：避免 GPL 傳染性風險
2. ✅ **商業化靈活**：保留閉源與訂閱制選項
3. ✅ **成本極低**：$250 一次性買斷（相當於 2-3 個用戶訂閱月費）
4. ✅ **專業形象**：商業授權展現正規化運作
5. ⚠️ **非緊急**：MVP 階段可先用 GPL，驗證市場後再購買

---

## 1. GPL 授權核心要求解析

### 1.1 GPL v2/v3 的「傳染性」

```
┌─────────────────────────────────────────────────────────┐
│              GPL 授權傳染機制示意圖                        │
├─────────────────────────────────────────────────────────┤
│                                                          │
│   你的專案（Aetheria Core）                               │
│         ↓ 使用/鏈接                                       │
│   GPL 庫（Swiss Ephemeris）                              │
│         ↓ GPL 要求                                       │
│   你的專案也必須開源（GPL 授權）                            │
│         ↓ 影響範圍                                       │
│   • 所有原始碼必須公開                                     │
│   • 無法限制用戶使用/修改/分發                              │
│   • 無法收取軟體授權費                                     │
│   • 第三方可任意複製你的系統                               │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

### 1.2 GPL 的三大核心條款

| 條款 | 要求 | 對 Aetheria 的影響 |
|------|------|-------------------|
| **開源義務** | 必須公開所有原始碼 | ❌ 競爭對手可直接複製整個系統 |
| **自由分發** | 不可限制他人使用/分發 | ❌ 無法阻止第三方搭建同類服務 |
| **衍生作品** | 基於你系統的改進也必須開源 | ❌ 付費客戶可免費獲得你的優化 |

### 1.3 什麼情況下觸發 GPL？

**觸發 GPL 的情境**：
```python
# 情境 A: 直接使用 GPL 庫（會觸發）
import swisseph as swe  # GPL 授權
swe.calc_ut(...)  # 直接呼叫 → Aetheria 必須 GPL

# 情境 B: 使用基於 GPL 的封裝庫（會觸發）
from kerykeion import AstrologicalSubject  # 依賴 pyswisseph (GPL)
person = AstrologicalSubject(...)  # 間接使用 → Aetheria 必須 GPL
```

**不觸發 GPL 的情境**：
```python
# 情境 C: API 服務調用（不會觸發）
# 你的閉源 API Server
#    ↓ HTTP 請求
# 第三方占星術 API (內部使用 GPL)
#    ↓ JSON 回應
# 你的閉源前端

# GPL 僅限於「同一程序」，跨 API 邊界不傳染
```

---

## 2. Aetheria Core 當前狀態評估

### 2.1 現有代碼的開源程度

**當前 Aetheria Core**：
- 🟡 **私有專案**（未公開於 GitHub）
- 🟡 **計劃商業化**（訂閱制/API 服務）
- 🟡 **已使用 GPL 庫**：`sxtwl`（八字計算，類似 GPL）

**關鍵問題**：
```python
# bazi_calculator.py (已使用)
import sxtwl  # 壽星天文曆，開源但類似 GPL

# astrology_calculator.py (計劃使用)
import swisseph as swe  # Swiss Ephemeris，GPL v2
from kerykeion import AstrologicalSubject  # 依賴 pyswisseph (GPL)
```

### 2.2 sxtwl 授權分析

**sxtwl（壽星天文曆）授權**：
- 📜 **授權類型**：GNU GPL v3
- ⚠️ **傳染性**：與 Swiss Ephemeris 相同
- 🔍 **當前狀態**：Aetheria 已在使用（bazi_calculator.py）

**結論**：
```
如果 Aetheria 已使用 sxtwl (GPL)：
    → 理論上已受 GPL 約束
    → 新增 Swiss Ephemeris (GPL) 不會改變現狀
    → 關鍵是：你打算如何商業化？
```

---

## 3. 商業化模式與 GPL 的衝突分析

### 3.1 四種商業化模式對比

| 商業模式 | GPL 兼容性 | 收入潛力 | 風險 | 推薦度 |
|---------|-----------|----------|------|--------|
| **Open Core** | ✅ 完全兼容 | 🟡 中 | 🟢 低 | ⭐⭐⭐⭐ |
| **SaaS API** | ✅ 兼容 | 🟢 高 | 🟢 低 | ⭐⭐⭐⭐⭐ |
| **閉源訂閱** | ❌ 違反 GPL | 🟢 高 | 🔴 高 | ⭐ |
| **買斷授權** | ✅ 需商業授權 | 🟡 中 | 🟡 中 | ⭐⭐⭐ |

### 3.2 模式 A：Open Core（開源核心+付費功能）

**策略**：
```
Aetheria Core (GPL 開源)
├─ 基礎命理分析（免費）
│  ├─ 紫微斗數計算
│  ├─ 八字排盤
│  └─ 西洋占星術本命盤
│
└─ 付費增值功能（閉源）
   ├─ 三系統交叉驗證
   ├─ AI 深度諮詢（多輪對話）
   ├─ 企業 API 服務
   └─ 數據分析儀表板
```

**優勢**：
- ✅ 完全合法（開源部分用 GPL，閉源部分用商業授權）
- ✅ 建立社群（開源吸引開發者貢獻）
- ✅ 防止簡單抄襲（核心邏輯在閉源部分）

**劣勢**：
- ⚠️ 核心代碼暴露（競爭對手可基於開源版本起步）
- ⚠️ 維護成本高（開源+閉源雙版本）

**成功案例**：
- GitLab（開源版 + Enterprise 版）
- MongoDB（開源 + Atlas 雲服務）
- Elasticsearch（開源 + Cloud 託管）

### 3.3 模式 B：SaaS API 服務（推薦）

**策略**：
```
Aetheria API Server (閉源部署)
    ↓ HTTPS
用戶/開發者（透過 API 使用）
    ↓ 訂閱付費
收入來源：API 調用次數、訂閱方案
```

**GPL 兼容性分析**：
```
問題：API Server 內部使用 GPL 庫，是否需要開源？
答案：❌ 不需要

理由（AGPL 漏洞）：
• GPL v2/v3 僅要求「分發軟體」時開源
• 透過網路提供服務 ≠ 分發軟體
• 用戶只能透過 API 使用，拿不到程序本體
• 因此不觸發 GPL 的開源義務

注意：
• 如果使用 AGPL (Affero GPL)：提供網路服務也需開源
• Swiss Ephemeris 使用 GPL v2（非 AGPL）→ 可閉源部署
```

**優勢**：
- ✅ **完全合法**（GPL 不適用於 SaaS）
- ✅ **保護代碼**（競爭對手看不到實作）
- ✅ **訂閱收入**（持續現金流）
- ✅ **快速迭代**（不需分發更新）

**劣勢**：
- ⚠️ 基礎設施成本（伺服器、資料庫）
- ⚠️ 法律灰色地帶（GPL 社群可能質疑）

**成功案例**：
- OpenAI（GPT-3/4 使用開源組件但 API 閉源）
- GitHub Copilot（底層模型開源但服務閉源）
- Aetheria 當前架構（Flask API Server）

### 3.4 模式 C：購買商業授權（最安全）

**Swiss Ephemeris 商業授權**：
- 💰 **價格**：$250 USD（一次性買斷）
- 📜 **權利**：永久使用、閉源開發、商業分發
- 🌍 **範圍**：全球通用，無地域限制
- ⏰ **有效期**：永久（無年費）

**購買後的自由度**：
```
購買商業授權 ($250)
    ↓
Aetheria Core 完全閉源
    ↓
• 可以訂閱制收費 ✅
• 可以出售軟體授權 ✅
• 可以不公開原始碼 ✅
• 可以限制競爭對手複製 ✅
```

**成本效益分析**：
```
商業授權費用：$250 USD
  vs
潛在訂閱收入：
  • 10 個用戶 × $30/月 = $300/月
  • 投資回報期：< 1 個月

結論：商業授權成本極低，值得投資
```

---

## 4. sxtwl (八字庫) 的 GPL 問題

### 4.1 當前風險評估

**Aetheria 已在使用**：
```python
# bazi_calculator.py (480 lines)
import sxtwl  # GNU GPL v3

class BaziCalculator:
    def calculate_bazi(self, ...):
        lunar = sxtwl.Lunar()  # 使用 GPL 庫
        # ... 八字計算邏輯
```

**法律狀態**：
```
如果嚴格遵守 GPL：
    → Aetheria Core 應該已經開源
    → 當前「私有專案」可能違反 GPL

實際情況：
    → 大多數小型專案不會被追究
    → 但商業化後風險增加
```

### 4.2 解決方案選項

**選項 A：保持現狀（高風險）**
- ⚠️ 風險：被 sxtwl 作者或社群舉報
- ⚠️ 後果：強制開源或支付賠償
- 🎯 適用：內部使用、非商業專案

**選項 B：開源 Aetheria Core**
- ✅ 合法合規
- ❌ 失去商業化靈活性
- 🎯 適用：決定走 Open Core 模式

**選項 C：替換 sxtwl 為自行實作**
- ✅ 完全擺脫 GPL
- ❌ 開發成本極高（需重寫八字計算）
- 🎯 適用：長期戰略，不建議

**選項 D：購買商業授權（最佳）**
- ✅ 法律安全
- ✅ 保持閉源
- ⚠️ 問題：**sxtwl 無商業授權可買**
- 🎯 解決方案：
  ```
  1. 聯繫 sxtwl 作者協商授權
  2. 若無回應：評估法律風險後自行決定
  3. 商業化前重新評估（諮詢律師）
  ```

---

## 5. 決策樹與建議

### 5.1 決策流程圖

```
你的商業化目標是什麼？
    │
    ├─ 完全免費 + 建立社群
    │      ↓
    │  【選擇】開源 (GPL)
    │  【成本】$0
    │  【風險】零
    │
    ├─ 訂閱制 SaaS API
    │      ↓
    │  【選擇】閉源部署（灰色地帶）
    │  【成本】$0
    │  【風險】中（GPL 社群可能質疑）
    │      ↓
    │  建議：購買 Swiss Ephemeris 商業授權
    │  【成本】$250（降低風險）
    │
    └─ 出售軟體授權/企業部署
           ↓
       【選擇】購買商業授權（必須）
       【成本】$250
       【風險】零
```

### 5.2 針對 Aetheria Core 的具體建議

**階段一：MVP 驗證期（當前）**
```bash
# 1. 使用 GPL 版本開發
pip install kerykeion pyswisseph  # GPL

# 2. 快速驗證市場需求
# 3. 內部測試，不公開分發
# 4. 法律風險：低（未商業化）
```

**階段二：Beta 測試期（2-4 週後）**
```bash
# 1. 小範圍用戶測試（<50人）
# 2. 以 API 服務方式提供（不分發軟體）
# 3. 評估用戶反應與付費意願
# 4. 法律風險：低-中（小規模測試）
```

**階段三：正式商業化（3-6 個月後）**
```bash
# 1. 購買 Swiss Ephemeris 商業授權 ($250)
# 2. 以 SaaS API 模式運營
# 3. 訂閱制收費（$30-100/月）
# 4. 法律風險：零（已購買授權）

# 購買連結：
# https://www.astro.com/swisseph/swephinfo_e.htm
# 聯繫：swisseph@astro.ch
```

**階段四：sxtwl 問題處理（商業化前）**
```bash
# 選項 A：聯繫 sxtwl 作者（推薦）
# - 詢問是否提供商業授權
# - 說明 Aetheria 的使用情況
# - 尋求許可或建議

# 選項 B：法律諮詢（必要時）
# - 諮詢智慧財產權律師
# - 評估實際風險程度
# - 決定是否需要替換方案

# 選項 C：替換方案（備用）
# - 研究其他八字計算庫
# - 或自行實作（成本高）
```

---

## 6. 成本效益分析總結

### 6.1 購買商業授權的價值

| 投資項目 | 金額 | 獲得價值 |
|---------|------|---------|
| Swiss Ephemeris 商業授權 | $250 | • 法律安全<br>• 閉源權利<br>• 商業化靈活性<br>• 專業形象 |
| 律師諮詢（可選） | $500-1000 | • 法律意見<br>• 風險評估 |
| **總投資** | **$250-1250** | **完全安心的商業化** |

**預期回報**：
```
假設訂閱制：$50/月/用戶

達成損益平衡：
  • 5 個付費用戶 × $50 = $250/月
  • 回本週期：1 個月

一年後潛在收入：
  • 100 個用戶 × $50 × 12 = $60,000/年
  • 投資回報率：24,000%
```

### 6.2 不購買授權的風險

**潛在損失**：
1. **法律風險**：
   - 被訴侵權：賠償金 $10,000-100,000+
   - 強制開源：失去商業化能力
   - 品牌受損：失去用戶信任

2. **商業風險**：
   - 無法接受企業訂單（合規要求）
   - 無法進入 App Store/Play Store（審核問題）
   - 投資者疑慮（法律風險影響估值）

3. **機會成本**：
   - 為避免風險而限制功能
   - 錯失市場擴展機會
   - 競爭對手合規化後超越

---

## 7. 最終建議

### 7.1 立即行動（本週）

✅ **不需要立即購買商業授權**

**理由**：
1. 當前處於 MVP 開發階段
2. 市場需求尚未驗證
3. 用戶規模極小（內部測試）
4. GPL 風險極低（未商業化）

**建議**：
```bash
# 繼續使用 GPL 版本開發
pip install kerykeion pyswisseph

# 快速驗證技術可行性
python test_kerykeion_quick.py
python test_gemini_astrology_knowledge.py

# 內部測試，累積數據
```

### 7.2 短期計劃（1-2 個月）

⚠️ **準備購買商業授權**

**觸發條件**：
- [ ] 用戶數超過 10 人
- [ ] 開始收費測試
- [ ] 對外宣傳推廣
- [ ] 任一條件達成 → 購買授權

**購買流程**：
```
1. 前往 Swiss Ephemeris 官網
   https://www.astro.com/swisseph/

2. 填寫商業授權申請表
   Email: swisseph@astro.ch

3. 支付 $250 USD

4. 獲得授權證書（PDF）

5. 保存證書以備審查
```

### 7.3 中期策略（3-6 個月）

✅ **建立合規化體系**

**行動清單**：
1. ✅ 購買 Swiss Ephemeris 商業授權
2. ⚠️ 處理 sxtwl (GPL) 問題：
   - 聯繫作者協商
   - 或尋找替代方案
3. ✅ 聘請 IP 律師審查授權
4. ✅ 建立開源使用政策文件
5. ✅ 為企業客戶準備合規證明

### 7.4 長期願景（12 個月+）

🎯 **三種發展路徑**

**路徑 A：完全商業化（推薦）**
- ✅ 購買所有商業授權
- ✅ 閉源 SaaS 模式
- ✅ 訂閱制 + API 服務
- 💰 潛在年收入：$50,000-500,000

**路徑 B：Open Core 混合**
- ✅ 開源基礎功能（GPL）
- ✅ 閉源高級功能（商業授權）
- ✅ 社群 + 訂閱雙收入
- 💰 潛在年收入：$30,000-200,000

**路徑 C：完全開源（非營利）**
- ✅ 全部開源（GPL）
- ✅ 捐贈 + 顧問收入
- ✅ 建立行業影響力
- 💰 潛在年收入：$10,000-50,000

---

## 8. 常見問題 FAQ

### Q1: 如果我不購買商業授權，會被抓嗎？
**A**: 
- 風險取決於規模和曝光度
- 小型專案通常不會被追究
- **但商業化後風險大增**
- 建議：商業化前購買授權

### Q2: SaaS API 模式真的可以規避 GPL 嗎？
**A**: 
- ✅ GPL v2/v3：可以（但有爭議）
- ❌ AGPL：不行（專為 SaaS 設計）
- 🎯 Swiss Ephemeris 使用 GPL v2 → 理論上可規避
- ⚠️ 最安全：購買商業授權

### Q3: $250 商業授權值得嗎？
**A**: 
```
$250 ÷ 12 個月 = $21/月
    ↓
僅需 1 個付費用戶 ($30/月) 即回本
    ↓
絕對值得！
```

### Q4: sxtwl 沒有商業授權怎麼辦？
**A**: 
1. 聯繫作者協商（優先）
2. 評估法律風險後自行決定
3. 考慮替代方案（長期）
4. 商業化前諮詢律師

### Q5: 競爭對手會舉報我嗎？
**A**: 
- 可能性低（行業慣例）
- 但不能僥倖心態
- 建議：合規化是最佳策略

---

## 9. 行動檢查清單

### 現在（本週）
- [ ] 繼續使用 GPL 版本開發
- [ ] 運行技術驗證腳本
- [ ] 完成 MVP 功能
- [ ] 內部測試

### 1-2 個月內
- [ ] 評估市場需求
- [ ] 決定商業化路徑
- [ ] 準備 $250 預算
- [ ] 訂閱 Swiss Ephemeris 電子報

### 商業化前（必須完成）
- [ ] 購買 Swiss Ephemeris 商業授權
- [ ] 處理 sxtwl GPL 問題
- [ ] 諮詢 IP 律師（可選但推薦）
- [ ] 建立授權管理文件

### 商業化後（持續）
- [ ] 定期檢查依賴庫授權
- [ ] 更新授權合規文件
- [ ] 為企業客戶準備證明
- [ ] 監控法律環境變化

---

## 📊 總結

```
┌─────────────────────────────────────────────────────────┐
│              GPL 授權決策建議總結                          │
├─────────────────────────────────────────────────────────┤
│  當前階段：       MVP 開發期                              │
│  GPL 風險：       🟢 低（未商業化）                       │
│  立即行動：       ✅ 繼續開發，無需購買授權                │
│                                                          │
│  商業化前：       🔴 必須購買授權                         │
│  授權成本：       $250 USD（極低）                       │
│  投資回報：       1 個月回本，ROI 24,000%                │
│                                                          │
│  推薦策略：       SaaS API + 商業授權                    │
│  長期路徑：       完全商業化（閉源訂閱制）                 │
│  法律建議：       商業化前諮詢 IP 律師                    │
└─────────────────────────────────────────────────────────┘
```

**最終建議**：
1. ✅ **現在**：放心使用 GPL 版本開發，專注驗證市場
2. ✅ **商業化前**：購買 Swiss Ephemeris 商業授權 ($250)
3. ✅ **長期**：建立合規化體系，保護商業利益

**核心理念**：
> 「$250 的投資換取完全的法律安心與商業自由，絕對值得。但在驗證市場需求之前，不需要急著購買。」

---

**參考資源**：
- Swiss Ephemeris 官網: https://www.astro.com/swisseph/
- GPL v2 完整條文: https://www.gnu.org/licenses/gpl-2.0.html
- Open Source Initiative: https://opensource.org/
- 商業授權購買: swisseph@astro.ch
