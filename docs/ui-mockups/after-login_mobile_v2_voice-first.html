<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>Aetheria â€” After Login (Mobile Voice-first)</title>
    <style>
      :root{
        --bg:#faf9f7;
        --surface:#ffffff;
        --soft:#f5f3f0;
        --border:#e7e2dc;
        --text:#1f2430;
        --muted:#6b7280;
        /* Navy theme */
        --primary:#0b2a4a;
        --primaryDark:#071f36;
        --primaryLight:#e8f0ff;
        --error:#dc2626;
        --ok:#2b9a8f;
        --radius:18px;
        --shadow: 0 18px 50px rgba(26,22,20,.10);
        --shadowSm: 0 10px 28px rgba(26,22,20,.08);
        --font: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", Arial;
        --fontDisplay: ui-serif, Georgia, "Times New Roman", serif;
        --safeTop: env(safe-area-inset-top);
        --safeBottom: env(safe-area-inset-bottom);
      }
      *{box-sizing:border-box}
      html,body{height:100%}
      body{margin:0;background:var(--bg);color:var(--text);font-family:var(--font)}
      a{color:inherit;text-decoration:none}
      button,input,textarea{font:inherit}

      /* Mobile-only focused mock (desktop shows phone frame) */
      .frame{max-width:430px;margin:0 auto;min-height:100vh}
      @media (min-width: 900px){
        body{display:flex;justify-content:center}
        .frame{box-shadow: 0 30px 90px rgba(26,22,20,.15);border-left:1px solid rgba(0,0,0,.04);border-right:1px solid rgba(0,0,0,.04)}
      }

      /* Voice-first principle:
         1) Default = Chat
         2) Voice is the primary action (large control)
         3) Everything else hides behind a sheet or a small tab
         No JS: use :target for sheets & voice states
      */
      .app{min-height:100vh;display:grid;grid-template-rows:auto 1fr auto}

      /* Topbar */
      .topbar{
        position:sticky;top:0;z-index:10;
        background:rgba(250,249,247,.78);
        backdrop-filter: blur(10px);
        border-bottom:1px solid var(--border);
        padding-top: var(--safeTop);
      }
      .topbar-inner{height:56px;display:flex;align-items:center;justify-content:space-between;gap:10px;padding:0 14px}
      .brand{display:flex;align-items:center;gap:10px;min-width:0}
      .mark{width:34px;height:34px;border-radius:14px;background:linear-gradient(135deg,var(--primary),#163a6a);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:900;box-shadow:0 10px 26px rgba(11,42,74,.22)}
      .brand-txt{min-width:0}
      .brand-txt strong{display:block;font-family:var(--fontDisplay);letter-spacing:.02em;font-size:1.0rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
      .brand-txt span{display:block;font-size:.78rem;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

      .iconbtn{width:36px;height:36px;border-radius:14px;border:1px solid var(--border);background:var(--surface);display:flex;align-items:center;justify-content:center;cursor:pointer}
      .iconbtn:focus-visible{outline:3px solid var(--primaryLight);outline-offset:2px}

      /* Screens by :target */
      .screen{display:none;height:100%}
      #vf-chat:target ~ .app .screen.chat{display:grid}
      #vf-me:target ~ .app .screen.me{display:block}
      /* default */
      .app .screen.chat{display:grid}

      /* Sheets (sessions + voice) */
      .anchor{position:fixed;top:-200vh;left:-200vw}
      .backdrop{display:none;position:fixed;inset:0;z-index:50;background:rgba(26,22,20,.42);backdrop-filter: blur(4px)}
      .sheet{display:none;position:fixed;left:0;right:0;bottom:0;z-index:60;background:var(--surface);border:1px solid var(--border);border-top-left-radius:22px;border-top-right-radius:22px;box-shadow:var(--shadow);max-height:82vh;overflow:hidden}
      .sheet-head{padding:12px 14px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;gap:10px}
      .sheet-head strong{font-size:.95rem}
      .sheet-body{padding:12px 14px;overflow:auto}
      .close{width:36px;height:36px;border-radius:14px;border:1px solid var(--border);background:var(--surface);display:flex;align-items:center;justify-content:center}

      #vf-sessions:target ~ .backdrop{display:block}
      #vf-sessions:target ~ .sheet.sessions{display:block}

      #vf-voice:target ~ .backdrop{display:block}
      #vf-voice:target ~ .sheet.voice{display:block}

      /* Chat layout */
      .chat{grid-template-rows:1fr auto;min-height:0}

      /* Voice controls live in the Voice sheet so chat height isn't compressed */
      .status{
        display:flex;align-items:center;gap:8px;
        font-size:.78rem;
        color:var(--muted);
        border:1px solid var(--border);
        background:rgba(255,255,255,.7);
        padding:6px 10px;
        border-radius:999px;
      }
      .dot{width:10px;height:10px;border-radius:999px;background:rgba(11,42,74,.28)}

      /* status variants controlled by :target (no JS) */
      #vf-voice-listening:target ~ .sheet.voice .dot{background: var(--error); box-shadow: 0 0 0 4px rgba(220,38,38,.18)}
      #vf-voice-listening:target ~ .sheet.voice .status span[data-state="idle"]{display:none}
      #vf-voice-listening:target ~ .sheet.voice .status span[data-state="listening"]{display:inline}
      #vf-voice-listening:target ~ .sheet.voice .voice-btn.primary{background: var(--error)}
      #vf-voice-listening:target ~ .sheet.voice .voice-btn.primary .label-idle{display:none}
      #vf-voice-listening:target ~ .sheet.voice .voice-btn.primary .label-listening{display:inline}

      #vf-voice-connected:target ~ .sheet.voice .dot{background: var(--ok); box-shadow: 0 0 0 4px rgba(43,154,143,.18)}
      #vf-voice-connected:target ~ .sheet.voice .status span[data-state="idle"]{display:none}
      #vf-voice-connected:target ~ .sheet.voice .status span[data-state="connected"]{display:inline}

      .status span[data-state]{display:none}
      .status span[data-state="idle"]{display:inline}

      .voice-actions{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
      .linkbtn{
        border:1px solid var(--border);
        background:var(--surface);
        border-radius:999px;
        padding:8px 10px;
        font-size:.78rem;
        color:var(--muted);
      }

      .voice-cta{margin-top:10px;display:grid;grid-template-columns: 1fr;gap:10px}
      .voice-btn{
        width:100%;
        border:none;
        border-radius: 22px;
        padding: 14px 14px;
        cursor:pointer;
        font-weight:900;
        display:flex;
        align-items:center;
        justify-content:center;
        gap:10px;
      }
      .voice-btn.primary{
        background: linear-gradient(135deg, var(--primary), #163a6a);
        color:#fff;
        box-shadow: 0 14px 40px rgba(11,42,74,.22);
      }
      .voice-btn.secondary{
        background: var(--soft);
        border:1px solid var(--border);
        color: var(--text);
        box-shadow: var(--shadowSm);
      }
      .voice-btn:focus-visible{outline:3px solid var(--primaryLight);outline-offset:2px}

      .voice-btn .label-listening{display:none}

      .voice-hint{color:var(--muted);font-size:.78rem;line-height:1.6}

      /* Chat stream */
      .stream{padding:12px 14px;overflow:auto;display:flex;flex-direction:column;gap:12px}
      .msg{display:flex;gap:10px;align-items:flex-start}
      .msg.me{flex-direction:row-reverse}
      .av{width:32px;height:32px;border-radius:14px;background:var(--soft);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;font-weight:900;color:var(--primary);flex-shrink:0}
      .msg.me .av{background:var(--primary);border-color:transparent;color:#fff}
      .bubble{max-width:82%;padding:11px 12px;border-radius:16px;border:1px solid var(--border);background:var(--surface);line-height:1.7;font-size:.92rem}
      .msg.me .bubble{background:var(--primary);border-color:transparent;color:#fff}
      .meta{margin-top:6px;color:var(--muted);font-size:.72rem}
      .msg.me .meta{color:rgba(255,255,255,.82)}

      /* Minimal "one-line conclusion" card inside chat (kept tiny) */
      .micro-card{
        margin-top:8px;
        border:1px solid rgba(11,42,74,.18);
        background: rgba(11,42,74,.06);
        border-radius: 14px;
        padding: 10px;
        color: var(--muted);
        font-size: .82rem;
        line-height: 1.55;
      }
      .micro-card b{color: var(--primary)}

      /* Composer: keep it simple and always visible above bottom nav */
      .composer{
        position:sticky;
        bottom:72px;
        border-top:1px solid var(--border);
        background: linear-gradient(180deg, rgba(250,249,247,0), rgba(250,249,247,.92) 30%, rgba(250,249,247,.98));
        padding: 10px 14px;
      }
      .row{
        background:var(--surface);
        border:1px solid var(--border);
        border-radius:22px;
        padding:10px;
        display:flex;
        gap:10px;
        align-items:flex-end;
        box-shadow:var(--shadowSm)
      }
      textarea{flex:1;border:none;outline:none;resize:none;min-height:42px;max-height:140px;background:transparent;padding:10px 10px;line-height:1.5;font-size:.92rem}
      .send{border:none;background:var(--primary);color:#fff;border-radius:999px;padding:10px 14px;font-weight:900;cursor:pointer}

      /* Bottom nav: 3 items only (Chat / Voice / Me) */
      .bottom{
        position:sticky;bottom:0;z-index:10;
        padding-bottom: var(--safeBottom);
        background:rgba(250,249,247,.9);
        backdrop-filter: blur(10px);
        border-top:1px solid var(--border);
      }
      .tabs{height:72px;display:grid;grid-template-columns:repeat(3,1fr);gap:6px;padding:10px 10px 12px}
      .tab{
        display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;
        border-radius:16px;
        border:1px solid transparent;
        color:var(--muted);
        font-size:.72rem;
      }
      .tab span{font-size:1.1rem}
      .tab.active{background:var(--primaryLight);border-color:rgba(11,42,74,.20);color:var(--primary);font-weight:900}

      /* Center Voice tab as the primary action */
      .tab.voice{
        background: linear-gradient(135deg, var(--primary), #163a6a);
        color:#fff;
        font-weight:900;
        box-shadow: 0 12px 32px rgba(11,42,74,.22);
      }
      .tab.voice span{font-size:1.2rem}


      /* Sessions list inside sheet */
      .session{border:1px solid var(--border);border-radius:16px;padding:12px;background:var(--surface)}
      .session.active{background:var(--primaryLight);border-color:rgba(11,42,74,.22)}
      .session + .session{margin-top:10px}
      .session strong{display:block;font-size:.9rem}
      .session small{display:block;margin-top:4px;color:var(--muted)}

      /* Voice settings sheet */
      .fieldset{border:1px solid var(--border);border-radius:16px;padding:12px;background:var(--surface)}
      .fieldset + .fieldset{margin-top:10px}
      .fieldset label{display:block;font-size:.78rem;color:var(--muted);margin-bottom:6px}
      .select{
        width:100%;
        border:1px solid var(--border);
        border-radius: 14px;
        padding:10px 12px;
        background: var(--soft);
        color: var(--text);
        outline:none;
      }
      .select:focus{border-color:rgba(11,42,74,.35);box-shadow:0 0 0 3px var(--primaryLight)}
      .help{margin-top:8px;color:var(--muted);font-size:.78rem;line-height:1.6}

      /* Me page */
      .me{padding:14px;overflow:auto}
      .profile{border:1px solid var(--border);background:var(--surface);border-radius:22px;padding:14px;box-shadow:var(--shadowSm)}
      .profile strong{font-family:var(--fontDisplay);font-size:1.05rem}
      .profile p{margin:8px 0 0;color:var(--muted);font-size:.86rem;line-height:1.6}
      .actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
      .btn{border:1px solid var(--border);background:var(--surface);border-radius:999px;padding:8px 12px;cursor:pointer}
      .btn.primary{background:var(--primary);border-color:transparent;color:#fff}

    </style>
  </head>
  <body>
    <div class="frame">
      <!-- anchors for :target (no JS) -->
      <div id="vf-chat" class="anchor" aria-hidden="true"></div>
      <div id="vf-me" class="anchor" aria-hidden="true"></div>
      <div id="vf-sessions" class="anchor" aria-hidden="true"></div>
      <div id="vf-voice" class="anchor" aria-hidden="true"></div>
      <div id="vf-voice-connected" class="anchor" aria-hidden="true"></div>
      <div id="vf-voice-listening" class="anchor" aria-hidden="true"></div>

      <!-- shared backdrop for sheets -->
      <a class="backdrop" href="#vf-chat" aria-label="é—œé–‰è¦†è“‹å±¤"></a>

      <!-- Sessions sheet -->
      <section class="sheet sessions" aria-label="å°è©±åˆ—è¡¨">
        <div class="sheet-head">
          <strong>å°è©±åˆ—è¡¨</strong>
          <a class="close" href="#vf-chat" aria-label="é—œé–‰">âœ•</a>
        </div>
        <div class="sheet-body">
          <a class="session active" href="#vf-chat" aria-current="true">
            <strong>ä»Šæ—¥ï¼šäº‹æ¥­èˆ‡è½‰è·</strong>
            <small>12 å‰‡è¨Šæ¯ Â· 2 å°æ™‚å‰</small>
          </a>
          <a class="session" href="#vf-chat">
            <strong>æ„Ÿæƒ…ï¼šé—œä¿‚å‹•æ…‹</strong>
            <small>8 å‰‡è¨Šæ¯ Â· æ˜¨å¤©</small>
          </a>
          <a class="session" href="#vf-chat">
            <strong>å‘½ç›¤ï¼šå¹´åº¦æµå¹´</strong>
            <small>19 å‰‡è¨Šæ¯ Â· 1 é€±å‰</small>
          </a>
          <div class="help">é€™è£¡å°æ‡‰å¾Œç«¯çš„ã€Œå°è©± sessionsã€ã€‚æ‰‹æ©Ÿä¸Šç”¨ Sheet æ‰“é–‹ï¼Œé¿å…ä½”ç•«é¢ã€‚</div>
        </div>
      </section>

      <!-- Voice sheet (primary action lives here) -->
      <section class="sheet voice" aria-label="èªéŸ³">
        <div class="sheet-head">
          <strong>èªéŸ³</strong>
          <a class="close" href="#vf-chat" aria-label="é—œé–‰">âœ•</a>
        </div>
        <div class="sheet-body">
          <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px">
            <div class="status" aria-label="èªéŸ³ç‹€æ…‹">
              <span class="dot" aria-hidden="true"></span>
              <span data-state="idle">Voice Ready</span>
              <span data-state="connected">å·²é€£ç·š</span>
              <span data-state="listening">è†è½ä¸­â€¦</span>
            </div>
            <div class="voice-actions" aria-label="èªéŸ³æ“ä½œ">
              <a class="linkbtn" href="#vf-voice-connected" aria-label="æ¨¡æ“¬ï¼šé€£ç·š">é€£ç·š</a>
              <a class="linkbtn" href="#vf-voice" aria-label="æ¨¡æ“¬ï¼šå¾…å‘½">å¾…å‘½</a>
            </div>
          </div>

          <a class="voice-btn primary" href="#vf-voice-listening" aria-label="é–‹å§‹èªéŸ³ï¼ˆæ¨¡æ“¬ï¼‰">
            <span aria-hidden="true">ğŸ™ï¸</span>
            <span class="label-idle">æŒ‰ä¸€ä¸‹é–‹å§‹èªª</span>
            <span class="label-listening">æ­£åœ¨è†è½ï¼ˆå†æŒ‰ä¸€ä¸‹åœæ­¢ï¼‰</span>
          </a>

          <a class="voice-btn secondary" href="#vf-chat" aria-label="æ”¹ç”¨æ‰“å­—">æ”¹ç”¨æ‰“å­—ï¼ˆå›åˆ°å°è©±è¼¸å…¥ï¼‰</a>
          <div class="help" style="margin-top:10px">èªéŸ³è¢«æ”¾åœ¨åº•éƒ¨ menu ä¸­é–“ï¼ˆä¸»å‹•ä½œï¼‰ï¼Œä¸å£“ç¸®èŠå¤©è¦–çª—ï¼›éœ€è¦æ™‚å†æ‰“é–‹æ­¤ Sheetã€‚</div>

          <div style="height:10px"></div>

          <div class="fieldset">
            <label for="voice">è²ç·š</label>
            <select id="voice" class="select" aria-label="é¸æ“‡è²ç·š">
              <option>Marinï¼ˆæº«æš–è‡ªç„¶ï¼‰</option>
              <option>Cedarï¼ˆæ²‰ç©©å¯é ï¼‰</option>
              <option>Shimmerï¼ˆæ´»æ½‘è¼•å¿«ï¼‰</option>
              <option>Echoï¼ˆç©©é‡ä½æ²‰ï¼‰</option>
            </select>
            <div class="help">ï¼ˆå°æ‡‰ï¼šå¯ç”¨èªéŸ³åˆ—è¡¨ APIï¼‰</div>
          </div>

          <div class="fieldset">
            <label for="mode">èªéŸ³æ¨¡å¼</label>
            <select id="mode" class="select" aria-label="èªéŸ³å›è¦†ç¯€å¥">
              <option>çŸ­å¥ï¼ˆ2â€“3 å¥ï¼‰</option>
              <option>ä¸€èˆ¬ï¼ˆæœ‰æ¢ç†ï¼‰</option>
              <option>æ›´æ·±ï¼ˆè¼ƒå®Œæ•´ï¼‰</option>
            </select>
            <div class="help">ï¼ˆå°æ‡‰ï¼šå»ºç«‹èªéŸ³ session æ™‚çš„ instructions / voice_modeï¼‰</div>
          </div>

          <div class="help">æ³¨æ„ï¼šé€™ä»½ mock æ²’æœ‰ä¸²æ¥ï¼Œåªå±•ç¤ºã€Œä½¿ç”¨è€…æœƒæ€éº¼ç†è§£èªéŸ³ã€ã€‚</div>
        </div>
      </section>

      <div class="app">
        <header class="topbar" role="banner">
          <div class="topbar-inner">
            <a class="brand" href="#vf-chat" aria-label="å›åˆ°å°è©±">
              <div class="mark" aria-hidden="true">ğŸ”®</div>
              <div class="brand-txt">
                <strong>Aetheria</strong>
                <span>ç™»å…¥å¾Œ Â· Voice-first</span>
              </div>
            </a>
            <div style="display:flex;gap:8px;align-items:center">
              <a class="iconbtn" href="#vf-sessions" aria-label="å°è©±åˆ—è¡¨">ğŸ—‚ï¸</a>
            </div>
          </div>
        </header>

        <!-- CHAT (default) -->
        <section class="screen chat" aria-label="å°è©±">
          <div class="stream" aria-label="è¨Šæ¯ä¸²">
            <div class="msg">
              <div class="av" aria-hidden="true">A</div>
              <div>
                <div class="bubble">ä½ å…ˆç”¨ä¸€å¥è©±èªªã€Œä½ æƒ³è§£æ±ºçš„äº‹ã€ã€‚æˆ‘æœƒåƒå‘½ç†å¸«ä¸€æ¨£ï¼Œå…ˆæŠŠå•é¡Œå•æ¸…æ¥šï¼Œå†çµ¦ä½ ä¸€å¥æº–è©± + ä¸‹ä¸€æ­¥ã€‚</div>
                <div class="micro-card"><b>ä¸€å¥è©±è¦å‰‡ï¼š</b>æ¯å›åˆå…ˆæ”¶æ–‚ï¼Œå†å±•é–‹ã€‚é¿å…ä½¿ç”¨è€…æ··äº‚ã€‚</div>
                <div class="meta">ç°¡æ½”å›è¦† Â· 2â€“3 å¥</div>
              </div>
            </div>

            <div class="msg me">
              <div class="av" aria-hidden="true">ä½ </div>
              <div>
                <div class="bubble">æˆ‘æƒ³æ›åˆ°æ›´ç©©å®šçš„å·¥ä½œï¼Œä½†æ€•é™è–ªã€‚</div>
                <div class="meta">ä½  Â· å‰›å‰›</div>
              </div>
            </div>

            <div class="msg">
              <div class="av" aria-hidden="true">A</div>
              <div>
                <div class="bubble">å¥½ã€‚æˆ‘åªå•å…©ä»¶äº‹ï¼šâ‘ æœ€ä½å¯æ¥å—è–ªè³‡å¸¶ï¼Ÿâ‘¡ä½ èƒ½æ¥å—çš„é€šå‹¤/å·¥æ™‚ï¼Ÿå›ç­”å®Œæˆ‘å°±çµ¦ä½ ä¸‹ä¸€æ­¥ã€‚</div>
                <div class="meta">ä¸‹ä¸€æ­¥ï¼šå›ç­” 2 å•</div>
              </div>
            </div>
          </div>

          <div class="composer" aria-label="è¼¸å…¥å€">
            <div class="row">
              <textarea placeholder="ä½ ä¹Ÿå¯ä»¥ç”¨æ‰“å­—è£œå……ï¼šæœ€ä½å¯æ¥å—è–ªè³‡å¸¶æ˜¯â€¦" aria-label="è¼¸å…¥è¨Šæ¯"></textarea>
              <button class="send" type="button" aria-label="é€å‡º">é€å‡º</button>
            </div>
          </div>
        </section>

        <!-- ME -->
        <main class="screen me" role="main" aria-label="å¸³è™Ÿèˆ‡è¨­å®š">
          <div class="me">
            <div class="profile">
              <strong>å¼µåŒå­¸</strong>
              <p>Voice-first ç‰ˆæœ¬çš„ã€Œè¨­å®šã€åªä¿ç•™å¿…è¦é …ï¼šç”Ÿè¾°è³‡æ–™ã€èªéŸ³åå¥½ã€éš±ç§åŒæ„ã€‚å…¶ä»–é€²éšåŠŸèƒ½ç›¡é‡é¿å…ä½”ç”¨ä¸»æµç¨‹ã€‚</p>
              <div class="actions">
                <button class="btn" type="button">ç”Ÿè¾°è³‡æ–™</button>
                <button class="btn" type="button">èªéŸ³åå¥½</button>
                <button class="btn" type="button">éš±ç§åŒæ„</button>
                <button class="btn primary" type="button">ç™»å‡º</button>
              </div>
            </div>
          </div>
        </main>

        <footer class="bottom" role="contentinfo" aria-label="åº•éƒ¨å°è¦½">
          <div class="tabs">
            <a class="tab active" href="#vf-chat" aria-current="page"><span aria-hidden="true">ğŸ’¬</span>å°è©±</a>
            <a class="tab voice" href="#vf-voice" aria-label="èªéŸ³ï¼ˆé–‹å•Ÿï¼‰"><span aria-hidden="true">ğŸ™ï¸</span>èªéŸ³</a>
            <a class="tab" href="#vf-me"><span aria-hidden="true">ğŸ‘¤</span>æˆ‘çš„</a>
          </div>
        </footer>
      </div>
    </div>
  </body>
</html>
